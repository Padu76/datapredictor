/* ===== THEME BASE (light/dark) ===== */
:root {
  --brand: #0ea5e9;
  --bg: #070a12;
  --bg-soft: #0b1220;
  --text: #e5e7eb;
  --muted: #b6c2d9;
  --border: rgba(255,255,255,.12);
  --card-bg: rgba(255,255,255,.05);
  --code-bg: rgba(0,0,0,.35);
  --code-fg: #e5e7eb;
  --error: #f87171;

  /* accenti */
  --glow1: #38bdf8;
  --glow2: #8b5cf6;
  --glow3: #22d3ee;
}

/* opzionale light theme */
:root[data-theme="light"] {
  --bg: #ffffff;
  --bg-soft: #f8fafc;
  --text: #0f172a;
  --muted: #475569;
  --border: #e5e7eb;
  --card-bg: rgba(255,255,255,.7);
  --code-bg: #f2f5fb;
  --code-fg: #0f172a;
}

/* ===== RESET ===== */
html, body { margin:0; padding:0; background: var(--bg); color: var(--text); font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto }
* { box-sizing: border-box }

/* ===== TOPBAR ===== */
.topbar {
  position: sticky; top:0; z-index:40;
  backdrop-filter: blur(10px);
  background: linear-gradient(180deg, rgba(2,6,23,.7), rgba(2,6,23,.35));
  border-bottom: 1px solid var(--border);
  padding: 10px 14px; display:flex; align-items:center; gap:12px;
}
:root[data-theme="light"] .topbar {
  background: rgba(255,255,255,.6);
}
.topbar .brand { display:flex; align-items:center; gap:10px; font-weight:700 }
.topbar .top-actions { margin-left:auto; display:flex; gap:10px; align-items:center }
.input { padding:8px 10px; border:1px solid var(--border); background: transparent; color: var(--text); border-radius:10px }

/* ===== BUTTONS ===== */
button { font-family: inherit; font-weight: 700; cursor: pointer }
.btn-outline { background: transparent; border:1px solid var(--border); color: var(--text); border-radius:10px; padding:10px 14px; transition: .2s }
.btn-danger { background:#ef4444; color:#fff; border:0; border-radius:10px; padding:8px 12px }
.btn-outline:hover { transform: translateY(-1px); box-shadow: 0 6px 16px rgba(0,0,0,.18) }

.badge-ok { padding:4px 10px; border-radius:999px; background: linear-gradient(90deg,#16a34a,#22c55e); color:#052e16; font-weight:700 }

/* ===== NOTICES ===== */
.notice-ok { background: linear-gradient(90deg, rgba(16,185,129,.18), rgba(59,130,246,.18)); color:#d1fae5; padding:8px 12px; font-size:14px }

/* ===== GENERIC LAYOUT ===== */
.container { max-width:1200px; margin:0 auto; padding: 0 24px }
a { color: var(--glow1); text-decoration:none }

/* ===== GLASS CARDS & GRADIENT BORDERS ===== */
.card {
  background: var(--card-bg);
  border: 1px solid var(--border);
  border-radius: 16px;
  backdrop-filter: blur(12px);
  box-shadow: 0 10px 30px rgba(0,0,0,.2);
}
.card:hover { transform: translateY(-2px); transition: .25s ease; box-shadow: 0 16px 40px rgba(0,0,0,.28) }

.card-gradient {
  position: relative; border-radius: 16px; padding:1px;
  background: linear-gradient(120deg, rgba(56,189,248,.6), rgba(139,92,246,.6), rgba(34,211,238,.6));
}
.card-gradient .inner {
  background: var(--card-bg); border-radius: 15px; padding: 16px;
}

/* ===== CODE BOX ===== */
.box { background: var(--code-bg); color: var(--code-fg); padding:12px; border-radius:12px; overflow:auto }

/* ===== HERO SPECIAL ===== */
.hero {
  position: relative; overflow: hidden;
  background:
    radial-gradient(800px 400px at 15% -10%, rgba(56,189,248,.30), transparent),
    radial-gradient(800px 400px at 85% -20%, rgba(139,92,246,.25), transparent),
    linear-gradient(180deg, rgba(14,165,233,.16), rgba(14,165,233,.04) 50%, transparent);
}
.hero-inner { padding: 80px 24px 20px }
.hero h1 { font-size: clamp(36px, 5vw, 56px); line-height:1.05; margin: 12px 0 }
.grad { background: linear-gradient(90deg,#38bdf8,#8b5cf6,#22d3ee); -webkit-background-clip:text; background-clip:text; color: transparent }
.hero-sub { max-width: 900px; color: var(--muted); font-size: clamp(16px, 1.5vw, 20px) }

.hero-cta { display:flex; gap:12px; flex-wrap:wrap; margin-top: 18px }
.hero .cta-primary {
  position: relative;
  background: linear-gradient(90deg,#38bdf8,#8b5cf6);
  color:#031221; border:0; border-radius: 12px; padding: 12px 18px;
  box-shadow: 0 12px 30px rgba(56,189,248,.35), 0 6px 16px rgba(139,92,246,.25);
}
.hero .cta-primary:hover { transform: translateY(-2px); box-shadow: 0 18px 40px rgba(56,189,248,.45), 0 10px 24px rgba(139,92,246,.35) }
.hero .cta-ghost { background: transparent; border:1px solid var(--border); color: var(--text); border-radius:12px; padding:12px 18px }
.hero-badges { display:flex; gap:14px; flex-wrap:wrap; margin-top: 14px; color: var(--muted); font-weight:600 }

/* floating blobs */
.blob {
  position:absolute; filter: blur(60px); opacity:.45; pointer-events:none; transform: translateZ(0);
  animation: floaty 16s ease-in-out infinite;
}
.blob.b1 { width:420px; height:420px; background: radial-gradient(circle at 30% 30%, var(--glow1), transparent 60%); top:-120px; left:-120px }
.blob.b2 { width:380px; height:380px; background: radial-gradient(circle at 70% 30%, var(--glow2), transparent 60%); top:-140px; right:-140px; animation-delay: -4s }
.blob.b3 { width:300px; height:300px; background: radial-gradient(circle at 50% 50%, var(--glow3), transparent 60%); bottom:-120px; left:10% ; animation-delay: -8s }
@keyframes floaty {
  0%,100% { transform: translateY(0) translateX(0) }
  50%     { transform: translateY(18px) translateX(8px) }
}

/* ===== SECTION LAYOUT ===== */
.section { padding: 48px 0 }
.section.alt { background: linear-gradient(180deg, rgba(56,189,248,.04), transparent) }
h2 { font-size: clamp(24px, 3vw, 32px); margin: 0 0 14px }
.grid3 { display:grid; grid-template-columns: repeat(3,1fr); gap:18px }
.grid2 { display:grid; grid-template-columns: repeat(2,1fr); gap:12px }

.feature { padding: 18px }
.icn { font-size:22px }

/* ===== ANALYZE ===== */
.toolbar { display:flex; gap:12px; align-items:center; flex-wrap:wrap; margin:12px 0 6px }
.period { margin-left:16px; display:flex; gap:8px; align-items:center }
button.primary {
  background: linear-gradient(90deg, var(--glow1), var(--glow2));
  color:#07111e; border:0; border-radius:12px; padding:10px 16px; font-weight:700;
  box-shadow: 0 10px 26px rgba(56,189,248,.25);
}
button.primary:hover { transform: translateY(-2px) }
button.ghost { background: transparent; border:1px solid var(--border); color: var(--text); border-radius:12px; padding:10px 16px }

.kpis { display:grid; grid-template-columns: repeat(4,1fr); gap:14px; margin: 16px 0 }
.kpi-title { color: var(--muted); font-size:13px }
.kpi-value { font-size:22px; font-weight:800; margin-top:6px }
.kpi-value.pos { color:#34d399 } .kpi-value.neg { color:#f87171 }

.chart-box { position:relative; height:340px; border:1px solid var(--border); border-radius:14px; padding:8px; background: var(--card-bg) }

.error { color: var(--error); margin-top:8px }

/* ===== MODAL ===== */
.modal{position:fixed; inset:0; background:rgba(0,0,0,.6); display:flex; align-items:center; justify-content:center; padding:16px; z-index:50}
.modal-card{ background: var(--bg-soft); color: var(--text); border:1px solid var(--border); border-radius:16px; padding:18px; width:720px; max-width:100%; box-shadow: 0 30px 80px rgba(0,0,0,.5) }
label{display:block; font-size:13px; color:var(--muted); margin-bottom:6px}
select, input[type="number"], input[type="text"]{ width:100%; padding:10px; border:1px solid var(--border); border-radius:10px; background:transparent; color:var(--text) }

/* ===== RESPONSIVE ===== */
@media (max-width: 1000px){ .kpis{ grid-template-columns:1fr 1fr } .grid3{ grid-template-columns:1fr 1fr } }
@media (max-width: 640px){ .kpis{ grid-template-columns:1fr } .grid3{ grid-template-columns:1fr } }
